{
  "definition_multitape": {
    "tapes": 2,
    "description": "F1: entrada, F2: pilha dupla. X=excesso de a, Y=excesso de b. $ no meio",
    "states": ["q0", "qa", "qb", "qf", "qreject"],
    "initial_state": "q0",
    "accept_state": "qf",
    "reject_state": "qreject",
    "input_alphabet": ["a", "b"],
    "tape_alphabet": ["a", "b", "X", "Y", "$", "_"],
    "blank_symbol": "_",
    "algorithm": [
      "F2 usa $ como base. X's contam excesso de a's, Y's contam excesso de b's",
      "1. q0: Inicia F2 com $. Primeiro símbolo decide direção",
      "2. qa: Temos excesso de a's. 'a' adiciona X, 'b' remove X ou muda para qb",
      "3. qb: Temos excesso de b's. 'b' adiciona Y, 'a' remove Y ou muda para qa",
      "4. Aceita se terminar em $ (contagens iguais)"
    ],
    "transitions": [
      "(q0, [_, _]) -> (qf, [_, $], [N, N])",
      "(q0, [a, _]) -> (qa, [a, $], [R, R])",
      "(q0, [b, _]) -> (qb, [b, $], [R, R])",
      
      "(qa, [a, _]) -> (qa, [a, X], [R, R])",
      "(qa, [a, X]) -> (qa, [a, X], [R, R])",
      "(qa, [a, $]) -> (qa, [a, X], [R, R])",
      "(qa, [b, X]) -> (qa, [b, _], [R, L])",
      "(qa, [b, $]) -> (qb, [b, Y], [R, R])",
      "(qa, [b, _]) -> (qb, [b, Y], [R, R])",
      "(qa, [_, $]) -> (qf, [_, $], [N, N])",
      "(qa, [_, X]) -> (qreject, [_, X], [N, N])",
      "(qa, [_, _]) -> (qreject, [_, _], [N, N])",
      
      "(qb, [b, _]) -> (qb, [b, Y], [R, R])",
      "(qb, [b, Y]) -> (qb, [b, Y], [R, R])",
      "(qb, [b, $]) -> (qb, [b, Y], [R, R])",
      "(qb, [a, Y]) -> (qb, [a, _], [R, L])",
      "(qb, [a, $]) -> (qa, [a, X], [R, R])",
      "(qb, [a, _]) -> (qa, [a, X], [R, R])",
      "(qb, [_, $]) -> (qf, [_, $], [N, N])",
      "(qb, [_, Y]) -> (qreject, [_, Y], [N, N])",
      "(qb, [_, _]) -> (qreject, [_, _], [N, N])"
    ]
  },
  "rules": [
    {
      "rules": [
        {
          "type": "equalCount",
          "chars": ["a", "b"],
          "negated": false
        }
      ]
    }
  ],
  "description": "MT Multifita (2 fitas): L = {w | w ∈ {a,b}* e w tem a mesma quantidade de 'a' e 'b'}",
  "complexity": {
    "standard": "O(n²)",
    "multitape": "O(n)",
    "reason": "Multifita usa F2 como pilha dupla, processa em O(n)"
  }
}
